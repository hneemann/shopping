<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Liste</title>
  <link rel="icon" type="image/svg" href="/assets/icon.svg">
  <link rel="stylesheet" type="text/css" href="/assets/main.css"/>
  <script type="text/javascript" src="/assets/popup.js"></script>
  <script type="text/javascript" src="/assets/main.js"></script>
</head>
<body>

<table id="table" class="mainTable">
{{template "table.html" .}}
</table>

<div id="payed" class="addItem">
Wirklich alle Artikel im Einkaufswagen gekauft?<br><br>
<button onclick="hidePopUp();">Abbrechen</button>
<button onclick="hidePopUp();updateTable('a=payed');">Gekauft</button>
</div>

<div id="deleteNotify" class="addItem">
Artikel '<span id="deleteNotifyName"></span>' löschen?
<div class="buttonRow">
<button onclick="hidePopUp();">Abbrechen</button>
<button onclick="hidePopUp();deleteItem();">Löschen</button>
</div>
</div>

<div id="addItem" class="addItem">
  <table>
    <tr>
      <td><label for="item">Kategorie:</label></td>
      <td colspan="2">
      <select class="value" id="category" onchange="catChanged()">
        {{$cs := .CategorySelected}}
        {{range $i,$e := .Categories }}<option value="{{$e}}"{{if eq $e $cs}} selected="selected"{{end}}>{{$e}}</option>{{end}}
      </select>
      </td>
    </tr>
    <tr>
      <td><label for="item">Was:</label></td>
      <td colspan="2">
      <select class="value" name="item" id="addItemItem" onchange="setQuantitySelect('addItemItem','addItemQuantity')">
        {{$cs := .CategorySelected}}
        {{range .Items }}{{if eq .Category $cs }}<option value="{{.Id}}">{{.Name}}</option>{{end}}{{end}}
      </select>
      </td>
    </tr>
    <tr>
      <td><label for="quantity">Wieviel:</label></td>
      <td class="selectNumber">
      <select class="number" name="quantity" id="addItemQuantity">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="12">12</option>
        <option value="15">15</option>
        <option value="20">20</option>
      </select>
      </td>
      <td id="addItemQuantityUnit"></td>
    </tr>
  </table>
  <div class="buttonRow">
    <button onclick="hidePopUp()">Abbrechen</button>
    <button onclick="hidePopUp();addItem();">Hinzufügen</button>
  </div>
  <datalist id="items">
    {{range .Items }}<option data-cat="{{.Category}}" data-id="{{.Id}}" data-u="{{.Unit}}" value="{{.UniqueName}}">{{.UniqueName}}</option>{{end}}
  </datalist>
  <a id="addItemLink" href="/add">Neu</a>
</div>

<div id="setQuantity" class="addItem">
  <table>
    <tr>
      <td>Was:</td>
      <td colspan="2" id="setQuantityName"></td>
    </tr>
    <tr>
      <td><label for="quantity">Wieviel:</label></td>
      <td class="selectNumber">
      <select id="setQuantitySelect" class="number" name="quantity">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="12">12</option>
        <option value="15">15</option>
        <option value="20">20</option>
      </select>
      </td>
      <td style="text-align: left;"id="setQuantitySelectUnit"></td>
    </tr>
  </table>
  <div class="buttonRow">
    <button onclick="hidePopUp()">Abbrechen</button>
    <button onclick="hidePopUp();modifyQuantity();">Ändern</button>
  </div>
</div>

</body>
</html>