<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Liste</title>
  <link rel="icon" type="image/svg" href="/assets/icon.svg">
  <link rel="stylesheet" type="text/css" href="/assets/main.css"/>
  <script type="text/javascript" src="/assets/listAll.js"></script>
</head>
<body>

<table class="mainTable">
    <tr>
      <td colspan="8" style="font-size:115%;font-weight:bold;">Alle {{len .}} Artikel</td>
      <td><a href="/"><img class="list" src="/assets/back.svg" title="Einkaufsliste"></a></td>
    </tr>
    {{$lastCat := ""}}
    {{range . }}
      {{if not (eq .Category $lastCat) }}
      <tr><th colspan="5">{{.Category}}</th></tr>
      {{end}}
      <tr>
        <td>{{.Name}}</td>
        <td><img class="list" onclick="modify({{.Id}},-1)" src="/assets/sub.svg"></td>
        <td class="number" id="q{{.Id}}"{{if not .QuantityRequired}} style="text-align: center;"{{end}}>{{if .QuantityRequired}}{{.QuantityRequired}}{{else}}-{{end}}</td>
        <td><img class="list" onclick="modify({{.Id}},1)" src="/assets/add.svg"></td>
        <td>{{.Unit}}</td>
        <td class="number pcOnly" title="Gewicht in g">{{.Weight}}</td>
        <td class="number pcOnly" title="Volumen in ml">{{.Volume}}</td>
        <td class="pcOnly" title="GeschÃ¤ft">{{.ShopsStr}}</td>
        <td><a href="/edit/?item={{.Id}}"><img class="list" src="/assets/edit.svg" title="Bearbeiten"></a></td>
      </tr>
      {{$lastCat = .Category}}
    {{end}}
</table>
</body>
</html>